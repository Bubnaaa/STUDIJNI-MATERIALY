### Switching
- **Ingress port** - port, do kterého frame vstupuje
- **Egress port** - port ze kterého odchází
- Switch používá MAC table aby rozhodl kam frame půjde
- Každá MAC adresa je vázaná ke konkrétnímu portu
- Frame se nikdy neposílá ven tím samým portem, kterým přišel

---
### MAC Table
- Switch si ukládá MAC adresy zařízení která má připojená do CAM (Content Addressable Memory)
- Při každém přijetí framu si zapíše, z jakého portu přišel a jakou má zdrojovou MAC adresu
- Díky této tabulce switch ví kudy posílat framy se známou destination MAC address

---
### Learn and Forward metoda 
Každý přijatý frame se zpracovává ve dvou krocích:
1. **Learn**
	- Switch se podívá na Source MAC address framu
	- Pokud v tabulce není, přidá ji spolu s číslem portu
	- Pokud je , aktualizuje časovač (záznam se po cca 5 minutách smaže pokud se neobnoví)
	- Pokud stejná MAC přijde z jiného portu, aktualizuje se záznam 

2. **Forward**
	- Pokud Destination MAC adresa existuje -> frame pošle na daný port
	- Pokud neexistuje -> Pošle frame na všechny porty kromě přichozího (unkown unicast flood)
	- Pokud je Broadcast ebo Multicast, frame se také pošle na všechny porty kromě příchozího

---
### Switching methods
- Switch využívají čipy ASIC, pro velmi rychlé rozhodování
- 2 hlavní metody:
	1. **Store-and-Forward**
		- Switch přijme frame, zkontroluje FCS / CRC
		- Pokud je bez chyby -> posílá dál
		- Pokud má chybu -> Zahodí
		- **Výhody:**
			- Odhalí poškozené rámce
			- Podporuje různé rychlosti portů
		- Primární metoda u Cisco switchů
	2. **Cut-Trough**
		- Switch začne frame posílat ihned po přečtení cílové MAC adresy
		- Nevyhodnocuje FCS
		- Nižší latence - vhodné pro prostředí s malým výskytem chyb
		- Varianta: Fragment-free
			- Počká až přijme prvních 64 bitů fremu
			- Stejná rychlost, vyšší spolehlivost. 