### Duplexní komunikace
- **Full-Duplex** - Oba konce portu mohou současně vysílat i přijímat data, Vyžaduje mikrosegmentaci, Žádné kolize
- **Half-duplex** - Data mohou proudit jen jedním směrem ve stejnou chvíli, Vznik kolizí
- Gigabitové a 10Gb porty vyžadují **full-duplex**

---
### Konfigurace portů na fyzické vrstvě
- Manuálně lze nastavit duplex a rychlost portu:
```
S1(config)# interface FastEthernet0/1
S1(config-if)# duplex full
S1(config-if)# speed 100
S1(config-if)# end
S1# copy running-config startup-config
```

- Výchozí nastavení na 2960/3560: auto 
- Při připojení známých zařízení nastavovat ručně
- Fiber-optic - Vždy full-duplex, pevně nastavená rychlost

---
### Auto-MDIX
- Detekuje typ kabelu a nastaví port automaticky
```
S1(config-if)# mdix auto
```
- Funkce je zapnutá na novějších sw ve výchozím nastavení
- Pro správnou funkci musí být speed a duplex nastaven na auto

---
### Ověřovací příkazy
- `show interfaces [interface-id]` - Zobrazí Status interface a konfiguraci
- `show starup-config` - Ověření startup konfigurace portů, VLAN, IP adres, default gateway
-  ```show running-config``` - Ověření běžící konfigurace portů, VLAN, IP adres, default gateway
- `show flash` - Zobrazí informace o flash file
- `show version` - Zobrazí SW a HW status
- `show history` - Zobrazí Historii již zadaných příkazů
-  `show ip interface [interface-id]` - Zobrazí IP informace
-  `show mac-adress-table` - Zobrazí tabulku MAC adres

---

### Časté problémy na Access Layer
- Význam ```show interfaces```:
	- ```FastEthernet0/18 is up``` -> Fyzická vrstva OK
	- ```line protocol is up``` -> Datová linka OK
- Pokud je port up a line protocol down -> pravděpodobně záměna typů zapouzřování, error-disabled port, nebo HW problém
- Pokud jsou oba down -> Kabel, admin stav, nebo jiný fyzický problém

---

### Vstupní a výstupní chyby
- Input errors - Chyby předchozích framů
	- Runts - Framy menší než 64B, obvykle kolize nebo špatná NIC
	- Giants - Framy větší než maximální povolená délka
	- CRC - Obvykle problém s kabelem, EMI
- Output errors - Chyby při odesílání dat
	- Collisions - Normální u Half-duplex
	- Late collisions - nad 512b, často kvůli špatnému duplexu nebo dlouhému kabelu

---

### Řešení problémů na Access Layer
- Zkontrolovat kabely a jejich typ
- Ověřit rychlost a duplex na obou koncích
- Zkontrolovat EMI nebo šum
- U kolizí zkontrolovat duplex, manuálně nastavit duplex
- Dokumentovat změny a eskalovat problém, pokud není vyřešen